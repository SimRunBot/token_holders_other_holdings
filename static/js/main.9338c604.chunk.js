(this.webpackJsonptoken_holders_other_holdings=this.webpackJsonptoken_holders_other_holdings||[]).push([[0],{22:function(e,t,n){},42:function(e,t,n){},48:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(4),c=n.n(a),d=(n(22),n(7)),s=n.n(d),i=n(8),l=n(3),j=n(6),h=n.n(j),k=(n(42),n(43),n(2)),u=n(1),b=function(e){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h2",{children:" ERC20 Token Address "}),Object(u.jsx)(k.j,{rounded:!0,width:500,type:"text",onChange:e.handleTokenAddressChange}),Object(u.jsxs)("p",{children:[" ",void 0==e.tokenHolders?"Ex.: 0xe28b3B32B6c345A34Ff64674606124Dd5Aceca30":""]})]})},p=function(e){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h2",{children:"API-Key"}),Object(u.jsx)(k.j,{rounded:!0,type:"text",placeholder:e.apiKey,onChange:e.handleApiKeyChange}),Object(u.jsxs)("p",{children:[" ",void 0==e.tokenHolders?"Ex.: EK-nYME2-u6tTYfo-L5LES":""]})]})},O=function(e){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h2",{children:" # of Top Holders "}),Object(u.jsx)(k.j,{rounded:!0,width:100,type:"text",placeholder:"10",onChange:e.handleLimitHoldersChange}),Object(u.jsxs)("p",{children:[" ",void 0==e.tokenHolders?"1-1000":""]})]})};var f=function(e){return Object(u.jsxs)(u.Fragment,{children:[e.addressError?Object(u.jsx)(k.a,{dark:e.darkMode,type:"error",children:"Input Error : invalid Token Address input"}):"",e.limitError?Object(u.jsx)(k.a,{dark:e.darkMode,type:"error",children:"Input Error : only integers between 1-1000 allowed for # of Top Holders"}):"",e.networkErrorHappened?Object(u.jsxs)(k.a,{dark:e.darkMode,type:"error",children:["Network Error occured, Check Console ",null==e.networkErrorObject?"":e.networkErrorObject.message]}):""]})};var x=function(e){return e.tokenInfo?Object(u.jsx)(u.Fragment,{children:e.tokenInfo?Object(u.jsxs)(k.e,{dark:e.darkMode,children:[Object(u.jsxs)(k.g,{children:[" ","".concat(e.tokenInfo.name," (").concat(e.tokenInfo.symbol,")")," "]}),Object(u.jsxs)(k.g,{children:[" Price: ",e.tokenInfo.price.rate?e.tokenInfo.price.rate.toFixed(2):"unknown price"," $"]}),Object(u.jsxs)(k.b,{children:["Owner: ",e.tokenInfo.owner]}),Object(u.jsxs)(k.b,{children:["Holders: ",e.tokenInfo.holdersCount]})]}):""}):""};var m=function(e){var t=(e.balance/Math.pow(10,e.decimals)).toFixed(5);return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(k.g,{dark:e.darkMode,children:Object(u.jsx)("a",{href:"https://etherscan.io/token/".concat(e.address),target:"_blank",children:"".concat(e.name," (").concat(e.symbol,")")})}),Object(u.jsxs)(k.g,{dark:e.darkMode,children:["Tokens: ",t]}),Object(u.jsx)(k.g,{dark:e.darkMode,children:e.price?"Value: ".concat((e.price*t).toFixed(2)," $"):"price rate unknown"})]})};var g=function(e){return Object(u.jsx)(u.Fragment,{children:e.otherTokens.map((function(t,n){return Object(u.jsx)(k.h,{dark:e.darkMode,active:!0,raised:!0,rounded:!0,className:"OtherTokenListItem-class",children:Object(u.jsx)(m,{darkMode:e.darkMode,address:t.tokenInfo.address,name:t.tokenInfo.name,index:n,symbol:t.tokenInfo.symbol,balance:t.balance,decimals:t.tokenInfo.decimals>0?t.tokenInfo.decimals:1,price:t.tokenInfo.price.rate})},n)}))})};var I=function(e){return e.tokens.sort((function(e,t){return e.tokenInfo.price&&t.tokenInfo.price?t.balance/Math.pow(10,t.tokenInfo.decimals)*t.tokenInfo.price.rate-e.balance/Math.pow(10,e.tokenInfo.decimals)*e.tokenInfo.price.rate:e.tokenInfo.price&&!t.tokenInfo.price?-1:!e.tokenInfo.price&&t.tokenInfo.price?1:0})),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(k.g,{dark:e.darkMode,children:e.tokens.length>1?"".concat(e.tokens.length," Tokens held by this address"):"".concat(e.tokens.length," Token held by this address")}),Object(u.jsx)(g,{darkMode:e.darkMode,otherTokens:e.tokens})]})};var w=function(e){var t=Object(r.useState)(!1),n=Object(l.a)(t,2),o=n[0],a=n[1],c=Object(r.useState)(!1),d=Object(l.a)(c,2),j=d[0],b=d[1],p=Object(r.useState)(),O=Object(l.a)(p,2),f=O[0],x=O[1];Object(r.useEffect)((function(){var t=!0;if(o&&""!==!e.address&&e.address&&e.apiKey)return function(){n.apply(this,arguments)}(),function(){t=!1};function n(){return(n=Object(i.a)(s.a.mark((function n(){var r;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r="https://api.ethplorer.io/getAddressInfo/".concat(e.address,"?apiKey=").concat(e.apiKey),n.next=3,h.a.get(r).then((function(e){t&&x(e.data)})).catch((function(t){e.handleNetworkError(t)}));case 3:case"end":return n.stop()}}),n)})))).apply(this,arguments)}}),[o]);var m=(e.balance/Math.pow(10,e.decimals)).toFixed(2),g=(e.price*m).toFixed(2);return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)(k.f,{dark:e.darkMode,children:[" #",e.index+1," "]}),Object(u.jsxs)(k.f,{dark:e.darkMode,children:[" Share: ",e.share," % "]}),Object(u.jsxs)(k.f,{dark:e.darkMode,children:["Tokens: ",m]}),Object(u.jsxs)(k.f,{dark:e.darkMode,children:[" Value: ",g," $ "]}),Object(u.jsxs)(k.f,{dark:e.darkMode,children:["Address: ",Object(u.jsx)("a",{href:"https://etherscan.io/address/".concat(e.address),target:"_blank",children:e.address})]}),Object(u.jsx)(k.c,{className:"showOtherTokensButton",color:j?"var(--black)":"var(--white)",bgColor:j?"var(--primary-red)":"var(--primary)",dark:e.darkMode,rounded:!0,onClick:function(e){a(!o),b(!j)},children:o?"Hide Holders other tokens":"Show Holders other tokens"}),f&&o?Object(u.jsx)(k.d,{flat:!0,width:400,dark:e.darkMode,className:"HoldersOtherHoldingsComponent-container",children:Object(u.jsx)(I,{darkMode:e.darkMode,tokens:f.tokens})}):""]})};var v=function(e){return null==e.tokenHolders||null==e.tokenInfo?"":Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)(k.f,{className:"list-head",dark:e.darkMode,children:["Tokens Top ",e.numHolders," Holders"]}),Object(u.jsx)(k.i,{rounded:!0,dark:e.darkMode,raised:!0,children:e.tokenHolders.map((function(t,n){return Object(u.jsx)(k.h,{className:"ListItem-class",active:!0,dark:e.darkMode,raised:!0,rounded:!0,children:Object(u.jsx)(w,{index:n,darkMode:e.darkMode,decimals:e.tokenInfo.decimals?e.tokenInfo.decimals:"18 ",price:e.tokenInfo.price.rate?e.tokenInfo.price.rate:"1 ",address:t.address,balance:t.balance,share:t.share,apiKey:e.apiKey,handleNetworkError:e.handleNetworkError},t.address+n)},n)}))})]})};var M=function(){var e=Object(r.useState)(null),t=Object(l.a)(e,2),n=t[0],o=t[1],a=Object(r.useState)(""),c=Object(l.a)(a,2),d=c[0],j=c[1],m=Object(r.useState)(10),g=Object(l.a)(m,2),I=g[0],w=g[1],M=Object(r.useState)("EK-nYME2-u6tTYfo-L5LES"),y=Object(l.a)(M,2),E=y[0],H=y[1],C=Object(r.useState)(!1),T=Object(l.a)(C,2),S=T[0],F=T[1],N=Object(r.useState)(null),K=Object(l.a)(N,2),A=K[0],L=K[1],_=Object(r.useState)(!1),B=Object(l.a)(_,2),R=B[0],P=B[1],Y=Object(r.useState)(!1),$=Object(l.a)(Y,2),q=$[0],D=$[1],J=Object(r.useState)(!1),V=Object(l.a)(J,2),U=V[0],W=V[1],z=Object(r.useState)(null),G=Object(l.a)(z,2),Q=G[0],X=G[1],Z="https://api.ethplorer.io",ee=function(){return h.a.get("".concat(Z,"/getTopTokenHolders/").concat(d,"?apiKey=").concat(E,"&limit=").concat(I))},te=function(){return h.a.get("".concat(Z,"/getAddressInfo/").concat(d,"?apiKey=").concat(E))},ne=function(){return[ee(),te()]};function re(e){W(!0),X(e),console.log("NETWORK ERROR"),e.response?(console.log(e.response.data),console.log(e.response.status),console.log(e.response.headers)):e.request?console.log(e.request):console.log("Error",e.message),console.log(e.config)}return Object(r.useEffect)((function(){if(!(R||q||U||""==d)){var e=!0;return function(){t.apply(this,arguments)}(),function(){return e=!1}}function t(){return(t=Object(i.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:h.a.all(ne()).then(h.a.spread((function(t,n){e&&(o(t.data.holders),L(n.data.tokenInfo))}))).catch((function(e){return re(e)}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}}),[d,E,I]),Object(u.jsxs)(k.d,{className:"App",dark:S,children:[Object(u.jsxs)(k.d,{dark:S,rounded:!0,width:700,className:"UserInput-container",children:[Object(u.jsx)("h1",{children:"Tokenholders Other Holdings"}),Object(u.jsx)(k.c,{onClick:function(e){F(!S)},rounded:!0,depressed:!0,color:S?"var(--white)":"var(--primary)",children:S?"light-mode":"dark-mode"}),Object(u.jsx)(b,{handleTokenAddressChange:function(e){var t=e.event.target.value;42==t.length?(P(!1),j(t)):P(!0)},tokenHolders:n}),Object(u.jsx)(k.d,{dark:S,rounded:!0,flat:!0,width:500,className:"InputComponent-container",children:Object(u.jsx)(p,{apiKey:E,handleApiKeyChange:function(e){var t=e.event.target.value;H(t)},tokenHolders:n})}),Object(u.jsx)(k.d,{dark:S,rounded:!0,flat:!0,width:500,className:"InputComponent-container",children:Object(u.jsx)(O,{handleLimitHoldersChange:function(e){var t=e.event.target.value;parseInt(t)>0&&parseInt(t)<=1e3?(D(!1),w(t)):D(!0)},tokenHolders:n})}),Object(u.jsx)(k.d,{dark:S,width:200,className:"TokenInfoComponent-container",children:Object(u.jsx)(x,{darkMode:S,tokenInfo:A})}),Object(u.jsx)(k.d,{dark:S,width:300,className:"ErrorComponent-container",children:Object(u.jsx)(f,{darkMode:S,addressError:R,limitError:q,networkErrorHappened:U,networkErrorObject:Q})})]}),Object(u.jsx)(k.d,{dark:S,rounded:!0,width:700,className:"HolderListComponent-container",children:Object(u.jsx)(v,{darkMode:S,tokenHolders:n,numHolders:I,tokenInfo:A,apiKey:E,handleNetworkError:re})}),Object(u.jsx)("footer",{children:Object(u.jsxs)(k.d,{dark:S,className:"footer",children:[Object(u.jsxs)("p",{children:["Built with \ud83d\udc9a by ",Object(u.jsx)("a",{href:"https://github.com/SimRunBot",target:"_blank",children:"Simon"})]}),Object(u.jsxs)("p",{children:["powered by ",Object(u.jsx)("a",{href:"https://Ethplorer.io",target:"_blank",children:"Ethplorer.io"})]})]})})]})},y=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,51)).then((function(t){var n=t.getCLS,r=t.getFID,o=t.getFCP,a=t.getLCP,c=t.getTTFB;n(e),r(e),o(e),a(e),c(e)}))};c.a.render(Object(u.jsx)(o.a.StrictMode,{children:Object(u.jsx)(M,{})}),document.getElementById("root")),y()}},[[48,1,2]]]);
//# sourceMappingURL=main.9338c604.chunk.js.map